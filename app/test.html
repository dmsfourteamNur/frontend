<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inicio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  </head>

  <body>
    <span id="title"></span>

    <script>
      arbolito();

      async function arbolito() {
        // url de la api
        // const api01 = await fetch("https://jsonplaceholder.typicode.com/todos");
        const api01 = await fetch("http://localhost:8080/api/vuelo", { mode: 'no-cors'});
        // const api01 = await fetch("http://67.205.155.238/api/vuelo", { mode: 'no-cors'});
        // const api01 = await fetch("http://159.223.109.162/api/aeronave", { mode: 'no-cors'});
         const dataLibros = await api01.text();
 
        // verifico conexion con la api
        if (!api01) {
          const message = `An error has occured: ${api01.status}`;
          throw new Error(message);
        }

         
 
          let html = ``;
           Object.keys(dataLibros).map((key) => {
            var obj = dataLibros[key];
               html += ` <p>dato: " ${JSON.stringify(obj)}</p>`;
           });

          // imprimo los datos
          html += `</br> `;
          document.getElementById("title").innerHTML += html;
        }

      // capturo el error de la api
      arbolito().catch((error) => {
        error.message;
      });
    </script>
  </body>
</html>